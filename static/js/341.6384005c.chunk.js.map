{"version":3,"file":"static/js/341.6384005c.chunk.js","mappings":"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","sources":["../node_modules/@pioug/colorthief/dist/color-thief.mjs"],"sourcesContent":["if(!t)var t={map:function(t,r){var n={};return r?t.map(function(t,o){return n.index=o,r.call(n,t)}):t.slice()},naturalOrder:function(t,r){return t<r?-1:t>r?1:0},sum:function(t,r){var n={};return t.reduce(r?function(t,o,e){return n.index=e,t+r.call(n,o)}:function(t,r){return t+r},0)},max:function(r,n){return Math.max.apply(null,n?t.map(r,n):r)}};var r=function(){function r(t,r,n){return(t<<10)+(r<<5)+n}function n(t){var r=[],n=!1;function o(){r.sort(t),n=!0}return{push:function(t){r.push(t),n=!1},peek:function(t){return n||o(),void 0===t&&(t=r.length-1),r[t]},pop:function(){return n||o(),r.pop()},size:function(){return r.length},map:function(t){return r.map(t)},debug:function(){return n||o(),r}}}function o(t,r,n,o,e,u,i){var a=this;a.r1=t,a.r2=r,a.g1=n,a.g2=o,a.b1=e,a.b2=u,a.histo=i}function e(){this.vboxes=new n(function(r,n){return t.naturalOrder(r.vbox.count()*r.vbox.volume(),n.vbox.count()*n.vbox.volume())})}function u(n,o){if(o.count()){var e=o.r2-o.r1+1,u=o.g2-o.g1+1,i=t.max([e,u,o.b2-o.b1+1]);if(1==o.count())return[o.copy()];var a,c,f,s,h=0,v=[],l=[];if(i==e)for(a=o.r1;a<=o.r2;a++){for(s=0,c=o.g1;c<=o.g2;c++)for(f=o.b1;f<=o.b2;f++)s+=n[r(a,c,f)]||0;v[a]=h+=s}else if(i==u)for(a=o.g1;a<=o.g2;a++){for(s=0,c=o.r1;c<=o.r2;c++)for(f=o.b1;f<=o.b2;f++)s+=n[r(c,a,f)]||0;v[a]=h+=s}else for(a=o.b1;a<=o.b2;a++){for(s=0,c=o.r1;c<=o.r2;c++)for(f=o.g1;f<=o.g2;f++)s+=n[r(c,f,a)]||0;v[a]=h+=s}return v.forEach(function(t,r){l[r]=h-t}),function(t){var r,n,e,u,i,c=t+\"1\",f=t+\"2\",s=0;for(a=o[c];a<=o[f];a++)if(v[a]>h/2){for(e=o.copy(),u=o.copy(),i=(r=a-o[c])<=(n=o[f]-a)?Math.min(o[f]-1,~~(a+n/2)):Math.max(o[c],~~(a-1-r/2));!v[i];)i++;for(s=l[i];!s&&v[i-1];)s=l[--i];return e[f]=i,u[c]=e[f]+1,[e,u]}}(i==e?\"r\":i==u?\"g\":\"b\")}}return o.prototype={volume:function(t){var r=this;return r._volume&&!t||(r._volume=(r.r2-r.r1+1)*(r.g2-r.g1+1)*(r.b2-r.b1+1)),r._volume},count:function(t){var n=this,o=n.histo;if(!n._count_set||t){var e,u,i,a=0;for(e=n.r1;e<=n.r2;e++)for(u=n.g1;u<=n.g2;u++)for(i=n.b1;i<=n.b2;i++)a+=o[r(e,u,i)]||0;n._count=a,n._count_set=!0}return n._count},copy:function(){var t=this;return new o(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(t){var n=this,o=n.histo;if(!n._avg||t){var e,u,i,a,c=0,f=0,s=0,h=0;for(u=n.r1;u<=n.r2;u++)for(i=n.g1;i<=n.g2;i++)for(a=n.b1;a<=n.b2;a++)c+=e=o[r(u,i,a)]||0,f+=e*(u+.5)*8,s+=e*(i+.5)*8,h+=e*(a+.5)*8;n._avg=c?[~~(f/c),~~(s/c),~~(h/c)]:[~~(8*(n.r1+n.r2+1)/2),~~(8*(n.g1+n.g2+1)/2),~~(8*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(t){var r=this,n=t[0]>>3;return gval=t[1]>>3,bval=t[2]>>3,n>=r.r1&&n<=r.r2&&gval>=r.g1&&gval<=r.g2&&bval>=r.b1&&bval<=r.b2}},e.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var r=this.vboxes,n=0;n<r.size();n++)if(r.peek(n).vbox.contains(t))return r.peek(n).color;return this.nearest(t)},nearest:function(t){for(var r,n,o,e=this.vboxes,u=0;u<e.size();u++)((n=Math.sqrt(Math.pow(t[0]-e.peek(u).color[0],2)+Math.pow(t[1]-e.peek(u).color[1],2)+Math.pow(t[2]-e.peek(u).color[2],2)))<r||void 0===r)&&(r=n,o=e.peek(u).color);return o},forcebw:function(){var r=this.vboxes;r.sort(function(r,n){return t.naturalOrder(t.sum(r.color),t.sum(n.color))});var n=r[0].color;n[0]<5&&n[1]<5&&n[2]<5&&(r[0].color=[0,0,0]);var o=r.length-1,e=r[o].color;e[0]>251&&e[1]>251&&e[2]>251&&(r[o].color=[255,255,255])}},{quantize:function(i,a){if(!i.length||a<2||a>256)return!1;var c=function(t){var n,o=new Array(32768);return t.forEach(function(t){n=r(t[0]>>3,t[1]>>3,t[2]>>3),o[n]=(o[n]||0)+1}),o}(i);c.forEach(function(){});var f=function(t,r){var n,e,u,i=1e6,a=0,c=1e6,f=0,s=1e6,h=0;return t.forEach(function(t){(n=t[0]>>3)<i?i=n:n>a&&(a=n),(e=t[1]>>3)<c?c=e:e>f&&(f=e),(u=t[2]>>3)<s?s=u:u>h&&(h=u)}),new o(i,a,c,f,s,h,r)}(i,c),s=new n(function(r,n){return t.naturalOrder(r.count(),n.count())});function h(t,r){for(var n,o=t.size(),e=0;e<1e3;){if(o>=r)return;if(e++>1e3)return;if((n=t.pop()).count()){var i=u(c,n),a=i[0],f=i[1];if(!a)return;t.push(a),f&&(t.push(f),o++)}else t.push(n),e++}}s.push(f),h(s,.75*a);for(var v=new n(function(r,n){return t.naturalOrder(r.count()*r.volume(),n.count()*n.volume())});s.size();)v.push(s.pop());h(v,a);for(var l=new e;v.size();)l.push(v.pop());return l}}}().quantize,n=function(t){this.canvas=document.createElement(\"canvas\"),this.context=this.canvas.getContext(\"2d\"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};n.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var o=function(){};o.prototype.getColor=function(t,r){return void 0===r&&(r=10),this.getPalette(t,5,r)[0]},o.prototype.getPalette=function(t,o,e){var u=function(t){var r=t.colorCount,n=t.quality;if(void 0!==r&&Number.isInteger(r)){if(1===r)throw new Error(\"colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()\");r=Math.max(r,2),r=Math.min(r,20)}else r=10;return(void 0===n||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:r,quality:n}}({colorCount:o,quality:e}),i=new n(t),a=function(t,r,n){for(var o,e,u,i,a,c=t,f=[],s=0;s<r;s+=n)e=c[0+(o=4*s)],u=c[o+1],i=c[o+2],(void 0===(a=c[o+3])||a>=125)&&(e>250&&u>250&&i>250||f.push([e,u,i]));return f}(i.getImageData().data,i.width*i.height,u.quality),c=r(a,u.colorCount);return c?c.palette():null},o.prototype.getColorFromUrl=function(t,r,n){var o=this,e=document.createElement(\"img\");e.addEventListener(\"load\",function(){var u=o.getPalette(e,5,n);r(u[0],t)}),e.src=t},o.prototype.getImageData=function(t,r){var n=new XMLHttpRequest;n.open(\"GET\",t,!0),n.responseType=\"arraybuffer\",n.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);i=t.length;for(var n=new Array(i),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);var e=n.join(\"\"),u=window.btoa(e);r(\"data:image/png;base64,\"+u)}},n.send()},o.prototype.getColorAsync=function(t,r,n){var o=this;this.getImageData(t,function(t){var e=document.createElement(\"img\");e.addEventListener(\"load\",function(){var t=o.getPalette(e,5,n);r(t[0],this)}),e.src=t})};export{o as default};\n"],"names":["t","map","r","n","o","index","call","slice","naturalOrder","sum","reduce","e","max","Math","apply","sort","push","peek","length","pop","size","debug","u","i","a","this","r1","r2","g1","g2","b1","b2","histo","vboxes","vbox","count","volume","copy","c","f","s","h","v","l","forEach","min","prototype","_volume","_count_set","_count","avg","_avg","contains","gval","bval","color","palette","nearest","sqrt","pow","forcebw","quantize","Array","canvas","document","createElement","context","getContext","width","naturalWidth","height","naturalHeight","drawImage","getImageData","getColor","getPalette","colorCount","quality","Number","isInteger","Error","data","getColorFromUrl","addEventListener","src","XMLHttpRequest","open","responseType","onload","status","Uint8Array","response","String","fromCharCode","join","window","btoa","send","getColorAsync"],"sourceRoot":""}